from django.shortcuts import render
from django.http import HttpResponse, JsonResponse


def index(request):
    sub_array = [[1,2,1,0,1,1,2],[1,2,2,0,1,1,2],[1,2,3,0,1,1,2],[1,2,4,0,1,1,2],[1,2,5,0,1,1,2]]

    photoplethysmograms = [[1,[0.09506619, 0.08062575, 0.06859206, 0.05655836, 0.07701564,
       0.24909747, 0.32972323, 0.29362214, 0.25030084, 0.23706378,
       0.26474128, 0.28760529, 0.28399519, 0.25631769, 0.22864019,
       0.20818291, 0.19253911, 0.17930205, 0.16365824, 0.24548736,
       0.35619735, 0.44645006, 0.44283995, 0.41155235, 0.38748496,
       0.39711191, 0.42238267, 0.43080626, 0.41395909, 0.38868833,
       0.36582431, 0.34175692, 0.32250301, 0.30685921, 0.31648616,
       0.39831528, 0.51263538, 0.58122744, 0.57641396, 0.54753309,
       0.53309266, 0.54993983, 0.57400722, 0.54993983, 0.52466907,
       0.5078219 , 0.48736462, 0.47533093, 0.45848375, 0.44404332,
       0.44163658, 0.50902527, 0.66185319, 0.69314079, 0.66305656,
       0.64981949, 0.67148014, 0.69193742, 0.69073406, 0.66666667,
       0.64500602, 0.61853189, 0.60288809, 0.5788207 , 0.55716005,
       0.54271961, 0.58483755, 0.69795427, 0.77858002, 0.78941035,
       0.75691937, 0.73405535, 0.73886883, 0.76413959, 0.73886883,
       0.71119134, 0.68471721, 0.66185319, 0.64259928, 0.62334537,
       0.60168472, 0.58002407, 0.58844765, 0.68592058, 0.78820698,
       0.80986763, 0.76173285, 0.74969916, 0.76173285, 0.76534296,
       0.7521059 , 0.72322503, 0.69073406, 0.66185319, 0.63658243,
       0.61371841, 0.59205776, 0.566787  , 0.54151625, 0.63658243,
       0.73164862, 0.76534296, 0.74127557, 0.70397112, 0.68351384,
       0.68953069, 0.69434416, 0.67749699, 0.64139591, 0.59205776,
       0.54993983, 0.52226233, 0.49939832, 0.4801444 , 0.45006017,
       0.42719615, 0.47412756, 0.56919374, 0.63417569, 0.63056558,
       0.56799037, 0.54271961, 0.54993983, 0.54271961, 0.51504212,
       0.47773767, 0.45367028, 0.42478941, 0.40312876, 0.36943442,
       0.32972323, 0.3032491 , 0.2912154 , 0.35499398, 0.45607702,
       0.4921781 , 0.45968712, 0.41155235, 0.38748496, 0.39951865,
       0.38868833, 0.3622142 , 0.32611312, 0.29963899, 0.27918171,
       0.25872443, 0.23947052, 0.22141998, 0.19975933, 0.18050542,
       0.21179302, 0.30926594, 0.37424789, 0.34296029, 0.28399519,
       0.28158845, 0.30445247, 0.30445247, 0.28519856, 0.25391095,
       0.22743682, 0.20697954, 0.19013237, 0.17809868, 0.16365824,
       0.14801444, 0.16486161, 0.29001203, 0.32490975, 0.29723225,
       0.25511432, 0.23345367, 0.24548736, 0.26353791, 0.2599278 ,
       0.23345367, 0.2045728 , 0.17448857, 0.15282792, 0.14320096,
       0.12515042, 0.12033694, 0.18652226, 0.27677497, 0.3188929 ,
       0.29843562, 0.26113117, 0.24308063, 0.26233454, 0.25511432,
       0.23345367, 0.20577617, 0.18652226, 0.17208183, 0.15643803,
       0.14681107, 0.12876053, 0.14079422, 0.26233454, 0.32972323,
       0.32731649, 0.29362214, 0.26594465, 0.26955475, 0.28279182,
       0.28399519, 0.26113117, 0.24187726, 0.20818291, 0.18291215,
       0.17448857, 0.15884477, 0.1456077 , 0.14440433, 0.20938628,
       0.30806258, 0.34777377, 0.32611312, 0.29362214, 0.28038508,
       0.2912154 , 0.28760529, 0.26714801, 0.23706378, 0.22021661,
       0.20577617, 0.19133574, 0.18170878, 0.16847172, 0.15162455,
       0.14440433, 0.20577617, 0.30204573, 0.33694344, 0.29001203,
       0.27075812, 0.27316486, 0.28158845, 0.27918171, 0.2599278]],[2,[0.09506619, 0.08062575, 0.06859206, 0.05655836, 0.07701564,
       0.24909747, 0.32972323, 0.29362214, 0.25030084, 0.23706378,
       0.26474128, 0.28760529, 0.28399519, 0.25631769, 0.22864019,
       0.20818291, 0.19253911, 0.17930205, 0.16365824, 0.24548736,
       0.35619735, 0.44645006, 0.44283995, 0.41155235, 0.38748496,
       0.39711191, 0.42238267, 0.43080626, 0.41395909, 0.38868833,
       0.36582431, 0.34175692, 0.32250301, 0.30685921, 0.31648616,
       0.39831528, 0.51263538, 0.58122744, 0.57641396, 0.54753309,
       0.53309266, 0.54993983, 0.57400722, 0.54993983, 0.52466907,
       0.5078219 , 0.48736462, 0.47533093, 0.45848375, 0.44404332,
       0.44163658, 0.50902527, 0.66185319, 0.69314079, 0.66305656,
       0.64981949, 0.67148014, 0.69193742, 0.69073406, 0.66666667,
       0.64500602, 0.61853189, 0.60288809, 0.5788207 , 0.55716005,
       0.54271961, 0.58483755, 0.69795427, 0.77858002, 0.78941035,
       0.75691937, 0.73405535, 0.73886883, 0.76413959, 0.73886883,
       0.71119134, 0.68471721, 0.66185319, 0.64259928, 0.62334537,
       0.60168472, 0.58002407, 0.58844765, 0.68592058, 0.78820698,
       0.80986763, 0.76173285, 0.74969916, 0.76173285, 0.76534296,
       0.7521059 , 0.72322503, 0.69073406, 0.66185319, 0.63658243,
       0.61371841, 0.59205776, 0.566787  , 0.54151625, 0.63658243,
       0.73164862, 0.76534296, 0.74127557, 0.70397112, 0.68351384,
       0.68953069, 0.69434416, 0.67749699, 0.64139591, 0.59205776,
       0.54993983, 0.52226233, 0.49939832, 0.4801444 , 0.45006017,
       0.42719615, 0.47412756, 0.56919374, 0.63417569, 0.63056558,
       0.56799037, 0.54271961, 0.54993983, 0.54271961, 0.51504212,
       0.47773767, 0.45367028, 0.42478941, 0.40312876, 0.36943442,
       0.32972323, 0.3032491 , 0.2912154 , 0.35499398, 0.45607702,
       0.4921781 , 0.45968712, 0.41155235, 0.38748496, 0.39951865,
       0.38868833, 0.3622142 , 0.32611312, 0.29963899, 0.27918171,
       0.25872443, 0.23947052, 0.22141998, 0.19975933, 0.18050542,
       0.21179302, 0.30926594, 0.37424789, 0.34296029, 0.28399519,
       0.28158845, 0.30445247, 0.30445247, 0.28519856, 0.25391095,
       0.22743682, 0.20697954, 0.19013237, 0.17809868, 0.16365824,
       0.14801444, 0.16486161, 0.29001203, 0.32490975, 0.29723225,
       0.25511432, 0.23345367, 0.24548736, 0.26353791, 0.2599278 ,
       0.23345367, 0.2045728 , 0.17448857, 0.15282792, 0.14320096,
       0.12515042, 0.12033694, 0.18652226, 0.27677497, 0.3188929 ,
       0.29843562, 0.26113117, 0.24308063, 0.26233454, 0.25511432,
       0.23345367, 0.20577617, 0.18652226, 0.17208183, 0.15643803,
       0.14681107, 0.12876053, 0.14079422, 0.26233454, 0.32972323,
       0.32731649, 0.29362214, 0.26594465, 0.26955475, 0.28279182,
       0.28399519, 0.26113117, 0.24187726, 0.20818291, 0.18291215,
       0.17448857, 0.15884477, 0.1456077 , 0.14440433, 0.20938628,
       0.30806258, 0.34777377, 0.32611312, 0.29362214, 0.28038508,
       0.2912154 , 0.28760529, 0.26714801, 0.23706378, 0.22021661,
       0.20577617, 0.19133574, 0.18170878, 0.16847172, 0.15162455,
       0.14440433, 0.20577617, 0.30204573, 0.33694344, 0.29001203,
       0.27075812, 0.27316486, 0.28158845, 0.27918171, 0.2599278]],[3,[]],[4,[]],[5,[]],[6,[]],[7,[]],[8,[]],[9,[]],[10,[]],[11,[]],[12,[]],[13,[]],[14,[]]]

    piezopletismograms = [[1,[0.09506619, 0.08062575, 0.06859206, 0.05655836, 0.07701564,
       0.24909747, 0.32972323, 0.29362214, 0.25030084, 0.23706378,
       0.26474128, 0.28760529, 0.28399519, 0.25631769, 0.22864019,
       0.20818291, 0.19253911, 0.17930205, 0.16365824, 0.24548736,
       0.35619735, 0.44645006, 0.44283995, 0.41155235, 0.38748496,
       0.39711191, 0.42238267, 0.43080626, 0.41395909, 0.38868833,
       0.36582431, 0.34175692, 0.32250301, 0.30685921, 0.31648616,
       0.39831528, 0.51263538, 0.58122744, 0.57641396, 0.54753309,
       0.53309266, 0.54993983, 0.57400722, 0.54993983, 0.52466907,
       0.5078219 , 0.48736462, 0.47533093, 0.45848375, 0.44404332,
       0.44163658, 0.50902527, 0.66185319, 0.69314079, 0.66305656,
       0.64981949, 0.67148014, 0.69193742, 0.69073406, 0.66666667,
       0.64500602, 0.61853189, 0.60288809, 0.5788207 , 0.55716005,
       0.54271961, 0.58483755, 0.69795427, 0.77858002, 0.78941035,
       0.75691937, 0.73405535, 0.73886883, 0.76413959, 0.73886883,
       0.71119134, 0.68471721, 0.66185319, 0.64259928, 0.62334537,
       0.60168472, 0.58002407, 0.58844765, 0.68592058, 0.78820698,
       0.80986763, 0.76173285, 0.74969916, 0.76173285, 0.76534296,
       0.7521059 , 0.72322503, 0.69073406, 0.66185319, 0.63658243,
       0.61371841, 0.59205776, 0.566787  , 0.54151625, 0.63658243,
       0.73164862, 0.76534296, 0.74127557, 0.70397112, 0.68351384,
       0.68953069, 0.69434416, 0.67749699, 0.64139591, 0.59205776,
       0.54993983, 0.52226233, 0.49939832, 0.4801444 , 0.45006017,
       0.42719615, 0.47412756, 0.56919374, 0.63417569, 0.63056558,
       0.56799037, 0.54271961, 0.54993983, 0.54271961, 0.51504212,
       0.47773767, 0.45367028, 0.42478941, 0.40312876, 0.36943442,
       0.32972323, 0.3032491 , 0.2912154 , 0.35499398, 0.45607702,
       0.4921781 , 0.45968712, 0.41155235, 0.38748496, 0.39951865,
       0.38868833, 0.3622142 , 0.32611312, 0.29963899, 0.27918171,
       0.25872443, 0.23947052, 0.22141998, 0.19975933, 0.18050542,
       0.21179302, 0.30926594, 0.37424789, 0.34296029, 0.28399519,
       0.28158845, 0.30445247, 0.30445247, 0.28519856, 0.25391095,
       0.22743682, 0.20697954, 0.19013237, 0.17809868, 0.16365824,
       0.14801444, 0.16486161, 0.29001203, 0.32490975, 0.29723225,
       0.25511432, 0.23345367, 0.24548736, 0.26353791, 0.2599278 ,
       0.23345367, 0.2045728 , 0.17448857, 0.15282792, 0.14320096,
       0.12515042, 0.12033694, 0.18652226, 0.27677497, 0.3188929 ,
       0.29843562, 0.26113117, 0.24308063, 0.26233454, 0.25511432,
       0.23345367, 0.20577617, 0.18652226, 0.17208183, 0.15643803,
       0.14681107, 0.12876053, 0.14079422, 0.26233454, 0.32972323,
       0.32731649, 0.29362214, 0.26594465, 0.26955475, 0.28279182,
       0.28399519, 0.26113117, 0.24187726, 0.20818291, 0.18291215,
       0.17448857, 0.15884477, 0.1456077 , 0.14440433, 0.20938628,
       0.30806258, 0.34777377, 0.32611312, 0.29362214, 0.28038508,
       0.2912154 , 0.28760529, 0.26714801, 0.23706378, 0.22021661,
       0.20577617, 0.19133574, 0.18170878, 0.16847172, 0.15162455,
       0.14440433, 0.20577617, 0.30204573, 0.33694344, 0.29001203,
       0.27075812, 0.27316486, 0.28158845, 0.27918171, 0.2599278]],[2,[0.09506619, 0.08062575, 0.06859206, 0.05655836, 0.07701564,
       0.24909747, 0.32972323, 0.29362214, 0.25030084, 0.23706378,
       0.26474128, 0.28760529, 0.28399519, 0.25631769, 0.22864019,
       0.20818291, 0.19253911, 0.17930205, 0.16365824, 0.24548736,
       0.35619735, 0.44645006, 0.44283995, 0.41155235, 0.38748496,
       0.39711191, 0.42238267, 0.43080626, 0.41395909, 0.38868833,
       0.36582431, 0.34175692, 0.32250301, 0.30685921, 0.31648616,
       0.39831528, 0.51263538, 0.58122744, 0.57641396, 0.54753309,
       0.53309266, 0.54993983, 0.57400722, 0.54993983, 0.52466907,
       0.5078219 , 0.48736462, 0.47533093, 0.45848375, 0.44404332,
       0.44163658, 0.50902527, 0.66185319, 0.69314079, 0.66305656,
       0.64981949, 0.67148014, 0.69193742, 0.69073406, 0.66666667,
       0.64500602, 0.61853189, 0.60288809, 0.5788207 , 0.55716005,
       0.54271961, 0.58483755, 0.69795427, 0.77858002, 0.78941035,
       0.75691937, 0.73405535, 0.73886883, 0.76413959, 0.73886883,
       0.71119134, 0.68471721, 0.66185319, 0.64259928, 0.62334537,
       0.60168472, 0.58002407, 0.58844765, 0.68592058, 0.78820698,
       0.80986763, 0.76173285, 0.74969916, 0.76173285, 0.76534296,
       0.7521059 , 0.72322503, 0.69073406, 0.66185319, 0.63658243,
       0.61371841, 0.59205776, 0.566787  , 0.54151625, 0.63658243,
       0.73164862, 0.76534296, 0.74127557, 0.70397112, 0.68351384,
       0.68953069, 0.69434416, 0.67749699, 0.64139591, 0.59205776,
       0.54993983, 0.52226233, 0.49939832, 0.4801444 , 0.45006017,
       0.42719615, 0.47412756, 0.56919374, 0.63417569, 0.63056558,
       0.56799037, 0.54271961, 0.54993983, 0.54271961, 0.51504212,
       0.47773767, 0.45367028, 0.42478941, 0.40312876, 0.36943442,
       0.32972323, 0.3032491 , 0.2912154 , 0.35499398, 0.45607702,
       0.4921781 , 0.45968712, 0.41155235, 0.38748496, 0.39951865,
       0.38868833, 0.3622142 , 0.32611312, 0.29963899, 0.27918171,
       0.25872443, 0.23947052, 0.22141998, 0.19975933, 0.18050542,
       0.21179302, 0.30926594, 0.37424789, 0.34296029, 0.28399519,
       0.28158845, 0.30445247, 0.30445247, 0.28519856, 0.25391095,
       0.22743682, 0.20697954, 0.19013237, 0.17809868, 0.16365824,
       0.14801444, 0.16486161, 0.29001203, 0.32490975, 0.29723225,
       0.25511432, 0.23345367, 0.24548736, 0.26353791, 0.2599278 ,
       0.23345367, 0.2045728 , 0.17448857, 0.15282792, 0.14320096,
       0.12515042, 0.12033694, 0.18652226, 0.27677497, 0.3188929 ,
       0.29843562, 0.26113117, 0.24308063, 0.26233454, 0.25511432,
       0.23345367, 0.20577617, 0.18652226, 0.17208183, 0.15643803,
       0.14681107, 0.12876053, 0.14079422, 0.26233454, 0.32972323,
       0.32731649, 0.29362214, 0.26594465, 0.26955475, 0.28279182,
       0.28399519, 0.26113117, 0.24187726, 0.20818291, 0.18291215,
       0.17448857, 0.15884477, 0.1456077 , 0.14440433, 0.20938628,
       0.30806258, 0.34777377, 0.32611312, 0.29362214, 0.28038508,
       0.2912154 , 0.28760529, 0.26714801, 0.23706378, 0.22021661,
       0.20577617, 0.19133574, 0.18170878, 0.16847172, 0.15162455,
       0.14440433, 0.20577617, 0.30204573, 0.33694344, 0.29001203,
       0.27075812, 0.27316486, 0.28158845, 0.27918171, 0.2599278]],[3,[]],[4,[]],[5,[]],[6,[]],[7,[]],[8,[]],[9,[]],[10,[]],[11,[]],[12,[]],[13,[]],[14,[]]]

    return render(request, 'index.html', {"sub_array": sub_array, 'photoplethysmograms': photoplethysmograms,
                                          'piezopletismograms': piezopletismograms})

def api(request):
    return render(request, 'api.html')

def analysis(request):
    data_string = request.POST.get('data_string')

    print(data_string)
    return JsonResponse(status=200, data={"sub_array": 'sub_array'})

